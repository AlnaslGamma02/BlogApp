<%= provide(:title, @article.title) %>

<div class="container">
  <div class="row border border-danger my-2">
    <h1>記事の詳細</h1>
  </div>
</div>

<div class="container">
  <div class="row">
    <%# 記事表示部分 ここから %>
    <div class="card bg-light  my-2">
      <div class="card-header">
        <div class="text-left">
          作成日：<%= @article.created_at.strftime('%Y年%m月%d日 %H:%M') %>
        </div>
        <%# <div class="text-left"> %>
          <%# 著者：<%= @user.name%>
        <%# </div> %>
        <div class="text-right">
          <%= link_to '記事の編集', edit_article_path(@article) %> | 
          <%= link_to '記事の削除', article_path(@article),
              method: :delete, data: { confirm: '本当に削除しますか？' } %>
        </div>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          <%= @article.title %>
        </h4>
        <span>
          <%= image_tag @article.picture.url if @article.picture? %>
        </span>
        <p class="card-text">
          <%= @article.text %>
        </p>
      </div>
      <div class="card-footer text-left">
        <%= link_to '記事の一覧へ戻る', articles_path %>
      </div>
    </div>
    <%# 記事表示部分 ここまで %>

    <%# コメント表示部分 ここから %>
    <div>
      <h2>コメント</h2>
      <%= render @article.comments %>
      <%# renderメソッドが@article.commentsコレクションに含まれる要素を %>
      <%# 1つずつ列挙するときに各コメントをパーシャルと同じ名前のローカル %>
      <%# 変数に自動的に割り当てます。 %>
      <%# この場合はcommentというローカル変数が使用され、これはパーシャル %>
      <%# での表示に使用されます。 %>
    </div>
    <%# コメント表示部分 ここまで %>

    <%# コメント投稿フォーム ここから %>
    <div>
      <h2>コメントを投稿する</h2>
      <%= render "comments/form" %>
    </div>
    <%# コメント投稿フォーム ここまで %>
  </div>
</div>
